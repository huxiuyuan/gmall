[TOC]

# CORS

- **跨源资源共享**（CORS）（通俗讲**跨域资源共享**）是一种基于HTTP头的机制，该机制通过允许服务器标示除了他自己以外的其他**origin**
  （域，协议和端口），这样浏览器可以访问加载这些资源。跨源资源共享还通过一种机制来检查服务器是否会允许要发送的真实请求，该机制通过浏览器发起一个到服务器托管的跨源资源的"预检"
  请求。在预检中，浏览器发送的头中标示有HTTP方法和真实请求中会用到的头。
- 哪些请求属于跨源
    - 运行在 http://api.gmall.com:80/pms/brand? 的JavaScript代码使用XMLHttpRequest(ajax底层)来发起一个到 👇 的请求。

        1. **协议不同** http https
        2. **一级域名不同** http://api.gmall.com http://manager.gmall.com
        3. **子域名不同**
        4. **端口号不同**

      路径不同不属于跨域

      跨域不一定总是有跨域问题，跨域问题是浏览器针对ajax请求的一种限制
- 出于安全性，浏览器限制脚本内发起的跨源HTTP请求。 例如，XMLHttpRequest和Fetch API遵循同源策略。
  这意味着使用这些API的Web应用程序只能从加载应用程序的同一个域请求HTTP资源，除非响应报文包含了正确CORS响应头。
- 跨源域资源共享（ CORS）机制允许 Web 应用服务器进行跨源访问控制，从而使跨源数据传输得以安全进行。现代浏览器支持在 API 容器中（例如 XMLHttpRequest 或 Fetch）使用 CORS，以降低跨源 HTTP
  请求所带来的风险。

